```go
package main

func permute(nums []int) [][]int {
	var track []int
	var res [][]int
	used := map[int]int{} // 全局标志（树枝上有没用过）
	var trackBack func(nums []int)
	trackBack = func(nums []int) {
		if len(track) == len(nums) { // 直到收齐就结束
			tmp := make([]int, len(track))
			copy(tmp, track)
			res = append(res, tmp)
			return
		}
		for i := 0; i < len(nums); i++ { // 每层都是整个数组开始
			if used[nums[i]] == 1 { // 用过了就跳过这一个数，去下一层
				continue
			}
			used[nums[i]] = 1
			track = append(track, nums[i])
			trackBack(nums)
			track = track[:len(track)-1]
			used[nums[i]] = 0
		}
	}
	trackBack(nums)
	return res
}
```

